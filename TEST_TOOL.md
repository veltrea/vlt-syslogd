# テスト用送信ツール (test_sender.rs)

`test_sender` は、`vlt-syslogd` の動作確認を行うための簡易的な Syslog メッセージ送信ツールです。

## 概要
ローカルホスト (`127.0.0.1:514`) に対して、UTF-8 を含む Syslog メッセージを UDP で大量送信します。
受信側のパフォーマンス負荷試験や、文字化けの有無（特に日本語）を確認するために使用します。

## 機能
- **パケット送信**: UDP ポート 514 宛にメッセージを送信します。
- **負荷試験**: ループで合計 1000 件のメッセージを連続送信します。
- **バースト制御**: 100件ごとに 10ms のウェイトを入れ、実際のトラフィックに近い挙動を模倣します。
- **多言語テスト**: 送信内容に日本語や絵文字を含んでおり、UTF-8 正しく処理されるかをテストできます。

## 使い方

### 1. ビルドまたは実行
Rust がインストールされている環境で、以下のコマンドで直接実行できます。

```powershell
rustc test_sender.rs
.\test_sender.exe
```

### 2. 期待される動作
実行すると以下のようにコンソールに表示され、バックグラウンドでパケットが送信されます。

```
Starting stress test: Sending 1000 messages to 127.0.0.1:514...
Sent 0 messages...
Sent 100 messages...
...
Stress test completed.
```

`vlt-syslogd` 側では、これらのメッセージがリアルタイムに表示され、ログファイルに保存されます。
